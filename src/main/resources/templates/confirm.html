<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{parts/common :: html_head('予約内容確認 - さわやか医院予約システム')}"></head>
<body>
	<header th:replace="~{parts/common :: header()}"></header>
	<div class="container py-5" style="min-height: 80vh;">
		<div class="row justify-content-center">
			<div class="col-12 col-md-8 col-lg-6">
				<div class="card shadow-sm border-0 p-4">
					<h2 class="mb-4 text-center">予約内容確認</h2>
					<dl class="row mb-4">
						<dt class="col-4 col-md-4 fw-normal text-secondary">予約日</dt>
						<dd class="col-8 col-md-8"
							th:text="${slotView != null ? #temporals.format(slotView.businessDate, 'yyyy/MM/dd (E)', 'Asia/Tokyo') : '未選択'}"></dd>
						<dt class="col-4 col-md-4 fw-normal text-secondary">時間枠</dt>
						<dd class="col-8 col-md-8" th:text="${slotView.label}"></dd>
					</dl>
					<form th:action="@{/confirm}" method="post"
						class="d-flex flex-column align-items-center">
						<input type="hidden" name="timeSlotId" th:value="${timeSlotId}" />
						<input type="hidden" name="businessDate"
							th:value="${businessDate}" />
						<div class="d-flex w-100 justify-content-center button-row"
							th:if="${completed == null or !completed}">
							<button type="submit" class="btn btn-primary">この内容で予約確定</button>
							<a th:href="@{/main(businessDate=${businessDate})}"
								class="btn btn-outline-secondary">戻る</a>
						</div>
						<div class="d-flex w-100 justify-content-center button-row"
							th:if="${completed}">
							<a href="/main" class="btn btn-success">新しく予約を取る</a> <a
								href="/mypage" class="btn btn-outline-secondary ms-2">マイページ</a>
						</div>
					</form>
					<div th:if="${completed}">
						<div class="alert alert-success mt-4 text-center">
							<i class="bi bi-check-circle-fill me-2"></i>予約が完了しました。
						</div>
					</div>
					<div th:if="${errorMessage}">
						<div class="alert alert-danger mt-4 text-center">
							<i class="bi bi-exclamation-triangle-fill me-2"></i> <span
								th:text="${errorMessage}"></span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<footer th:replace="~{parts/common :: footer()}"></footer>
</body>
</html>